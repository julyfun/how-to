part1: https://blog.csdn.net/weixin_50295745/article/details/129938124
part2: https://blog.csdn.net/weixin_50295745/article/details/130569786

# 概述

- 节点: 手机电脑路由器，链路: 有线和无线连接

## 历史阶段

1. 1983 TCP/IP，分组交换网 ARPANET
2. 未商业化三级树形结构: 主干网 - 地区网 - 局域网
3. ISP (Internet Service Provider).
    - ISP 例如移动联通
    - IXP 允许地区 ISP 交换不经过主干 ISP
    - 90 年代 www 出现
    - 树形: 主干 ISP - 主干 ISP（可互连接） - 地区 ISP - 本地 ISP - 校园网 / 公司 - 主机

## 标准化机构

不说了。

## 边缘部分（终端，不负责转发数据）通信方式

- CS(Client/Server)
- P2P(Peer to Peer): 任何主机可以是客户端也可以是服务器

## 分组交换

打电话会独占链接，不适合网络传输。

路由器存储转发过程:

- 暂存收到的分组
- 检查分组头部
- 查找转发表（由路由器动态维护）
- 按头部的目的地址，找到合适的接口转发出去 #qm what's 接口?

分组交换缺点:

- 排队延迟
- 不保证带宽，不保证谁用的多谁用得少
- 头部信息开销

复用技术: #qm for what?

- 频分复用 - 不同包调频
- 时分复用 - 时间片轮转
- 统计复用

报文交换: 部分流水线化（太慢了）

## 计网分类

- PAN (Personal Area Network) 10m 就是热点
- LAN (Local) 一公里，高速通信线路例如学校内
- MAN (Metropolitan) 城市
- WAN (Wide) 很远

使用者: 分为公用网，专用网（校园公司网）

把终端接入网络的网络: AN. 居民不太方便直接接入 ISP，需要一个路由器中转

## 性能

- 速率 bit/s 通常指额定速率，不是实际运行速率
- 带宽 bit/s : 一个信道可通过的理论数据率，可以认为控制
- 吞吐量: 就是实际带宽，还是 bit/s

> 注意 1M bit/s 是 1e6，而 1MB 是 $2^20$

- 时延
    - 发送时延 = 数据长度 / 速率
    - 传播时延 = 传播距离 / 传播速率 （光纤为 2 / 3 光速）
    - 排队时延
    - 处理时延

## 三大类交换的区别

- 报文交换可以一段路走到黑，也可以分开几段走
- 分组交换
    - 数据报交换: 是最基本的分组交换
    - 虚电路交换: 不用分配带宽，不会占用固定线路（可交叉） #qm 啥玩意

### 交换时间计算

- 分组交换网络: 如果有 n 个交换节点，总时间 T = 第一个节点发送所有组数据 + 剩下 (n - 1) 节点转发完最后一组的时间 (因为至少要接收到一组数据才能开始转发)
- 报文交换，每个节点都要消耗全部分组时间
- 电路交换，建立好链接的前提下只有一个节点的时间

## 时延带宽积

传播时延 × 带宽。这是对于传输链路计算的，衡量链路是否被充分利用。

- 可理解为发送端发出但未到达接收端的 bit 量（管道里滞留的信息量）

## 往返时间 RTT

从发送方送完数据到发送方收到接收方回复的时间。计算方式，在这里就是 $2 times "传播时延" + "校验时间" + "确认包的发送时延"$:

![](https://telegraph-image-bhi.pages.dev/file/cb350a379412e7d7665c9.png)

计算有效数据率: $"有效数据率" = "数据长度" / "实际消耗总时间" = "数据长度" / "发送时间 + RTT"$，代表从开始发送到确认对方收到整个过程的速率。

题目可能会直接给 RTT，让你计算有效数据率之类的。

## 利用率

- 信道利用率: 信道用多大比例的时间是被使用的。
- 利用率也不是越高越好，$D_"网络当前时延" = D_(0 "空闲时延") / (1 - U_"利用率")$
- 网络利用率: 全网络信道利用率的加权平均

## 体系结构

- Arpanet 提出的抽象方法:
    1. 抽象分层
    2. 统一标准
    3. 模块独立
