# P6002 [USACO20JAN] Berry Picking S

所以有前 k / 2号元素都是一个相同值

枚举这个值m，有三种情况

- 最多能取出k个m，则前所有元素均为 m
- 最多能取小于 k / 2 个 m，无解
- 否则尽可能取多个 m，剩下部分取最大的即可.

```py
_, k = map(int, input().split())
a = list(map(int, input().split()))
ans = 0
for m in range(1, 1001):
    num = 0
    res = 0
    rest = []
    for x in a:
        num += x // m
        rest.append(x % m)
    if num >= k:
        res = m * k // 2
    elif num >= k // 2:
        res = (num - k // 2) * m + sum(sorted(rest, reverse=True)[:(k - num)])
    ans = max(ans, res)
print(ans)
```

# Cow Frisbee S

